<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');.lst-kix_u6n5s1oizguj-7>li:before{content:"\0025cb  "}.lst-kix_u6n5s1oizguj-8>li:before{content:"\0025a0  "}.lst-kix_u6n5s1oizguj-3>li:before{content:"\0025cf  "}.lst-kix_u6n5s1oizguj-4>li:before{content:"\0025cb  "}ul.lst-kix_v8htqudlxhva-8{list-style-type:none}ul.lst-kix_v8htqudlxhva-7{list-style-type:none}.lst-kix_u6n5s1oizguj-2>li:before{content:"\0025a0  "}.lst-kix_u6n5s1oizguj-6>li:before{content:"\0025cf  "}ul.lst-kix_v8htqudlxhva-6{list-style-type:none}ul.lst-kix_v8htqudlxhva-5{list-style-type:none}ul.lst-kix_v8htqudlxhva-4{list-style-type:none}ul.lst-kix_v8htqudlxhva-3{list-style-type:none}ul.lst-kix_v8htqudlxhva-2{list-style-type:none}ul.lst-kix_v8htqudlxhva-1{list-style-type:none}ul.lst-kix_v8htqudlxhva-0{list-style-type:none}.lst-kix_u6n5s1oizguj-5>li:before{content:"\0025a0  "}ul.lst-kix_u6n5s1oizguj-7{list-style-type:none}ul.lst-kix_u6n5s1oizguj-8{list-style-type:none}.lst-kix_v8htqudlxhva-1>li:before{content:"\0025cb  "}.lst-kix_v8htqudlxhva-3>li:before{content:"\0025cf  "}.lst-kix_v8htqudlxhva-0>li:before{content:"\0025cf  "}.lst-kix_v8htqudlxhva-4>li:before{content:"\0025cb  "}.lst-kix_u6n5s1oizguj-0>li:before{content:"\0025cf  "}ul.lst-kix_u6n5s1oizguj-0{list-style-type:none}ul.lst-kix_u6n5s1oizguj-1{list-style-type:none}ul.lst-kix_u6n5s1oizguj-2{list-style-type:none}ul.lst-kix_u6n5s1oizguj-3{list-style-type:none}.lst-kix_u6n5s1oizguj-1>li:before{content:"\0025cb  "}ul.lst-kix_u6n5s1oizguj-4{list-style-type:none}ul.lst-kix_u6n5s1oizguj-5{list-style-type:none}ul.lst-kix_u6n5s1oizguj-6{list-style-type:none}.lst-kix_v8htqudlxhva-2>li:before{content:"\0025a0  "}.lst-kix_v8htqudlxhva-8>li:before{content:"\0025a0  "}.lst-kix_v8htqudlxhva-5>li:before{content:"\0025a0  "}.lst-kix_v8htqudlxhva-7>li:before{content:"\0025cb  "}.lst-kix_v8htqudlxhva-6>li:before{content:"\0025cf  "}ol{margin:0;padding:0}table td,table th{padding:0}.c17{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:155.2pt;border-top-color:#000000;border-bottom-style:solid}.c14{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:166.5pt;border-top-color:#000000;border-bottom-style:solid}.c9{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:145.5pt;border-top-color:#000000;border-bottom-style:solid}.c12{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c32{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Consolas";font-style:normal}.c7{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c26{color:#2d3b45;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c13{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c15{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left;height:11pt}.c49{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:15pt;font-family:"Arial";font-style:normal}.c19{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c24{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:"Arial";font-style:normal}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c25{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.2;orphans:2;widows:2;text-align:center}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.38;orphans:2;widows:2;text-align:left}.c11{padding-top:0pt;padding-bottom:0pt;line-height:1.38;orphans:2;widows:2;text-align:center}.c36{color:#434343;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c33{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c3{padding-top:-11pt;padding-bottom:5pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c42{color:#608b4e;font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c37{color:#000000;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:"Arial";font-style:normal}.c27{padding-top:0pt;padding-bottom:0pt;line-height:1.2;orphans:2;widows:2;text-align:left}.c39{padding-top:-11pt;padding-bottom:5pt;line-height:1.0;page-break-after:avoid;text-align:left}.c46{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c38{padding-top:14pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;text-align:left}.c20{padding-top:0pt;padding-bottom:16pt;line-height:1.15;page-break-after:avoid;text-align:left}.c22{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;text-align:left}.c44{color:#000000;text-decoration:none;font-size:11pt;font-family:"Arial";font-style:normal}.c45{padding-top:14pt;padding-bottom:4pt;line-height:1.0;page-break-after:avoid;text-align:left}.c48{border-spacing:0;border-collapse:collapse;margin-right:auto}.c34{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c23{margin-left:72pt;padding-left:0pt}.c4{padding:0;margin:0}.c16{margin-left:36pt;padding-left:0pt}.c31{color:#2d3b45;font-size:10pt}.c29{background-color:#d9d9d9}.c47{height:60pt}.c30{background-color:#b6d7a8}.c2{vertical-align:super}.c6{height:36pt}.c43{height:48pt}.c41{height:24pt}.c8{background-color:#ffffff}.c35{height:39pt}.c40{font-size:10pt}.c28{height:53pt}.c18{height:11pt}.c21{font-weight:700}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c8 c34"><h1 class="c46" id="h.oj6j1lq99qwh"><span class="c13">What Makes it a Hit?</span></h1><p class="c20 subtitle" id="h.pcgqu9vp4jia"><span class="c49">Predicting the Success of Spotify Playlists</span></p><h3 class="c22" id="h.a84979uvkfps"><span class="c24">Introduction</span></h3><p class="c5"><span class="c26">What causes someone to follow a Spotify playlist? Is it the love of the artist&rsquo;s oeuvre? A one hit wonder that catches their eye nestled among other related, but less recognizable works? Do users follow playlists simply because they like the genre, or do the most popular playlists tend to have more eclectic constituent parts?</span></p><p class="c5 c18"><span class="c26"></span></p><p class="c5"><span class="c31">For our final project, we studied the follower count of Spotify playlists as they relates to the genres and popularities of the tracks and artists that compose them.</span></p><h3 class="c22" id="h.q00n22905jz2"><span class="c24">Data Collection and Storage</span></h3><h4 class="c38" id="h.9544nw9m8jf2"><span class="c19">Spotify API Endpoints</span></h4><p class="c5"><span class="c7">We collected 1,674 playlists from the &ldquo;spotify&rdquo; user. These playlists are some of the most popular on the website and all are public and easily found by all Spotify users. </span></p><p class="c5 c18"><span class="c12"></span></p><p class="c5 c18"><span class="c12"></span></p><p class="c3"><span class="c8 c40">Each track collected had an artist, or number of artists that created it. We also obtained artist details such as popularity and number of followers.</span></p><p class="c3"><span class="c12 c8">In most cases, only one artist was listed, but some tracks were collaborative works with many artists. In order to keep our MySQL data model as simple as possible, we decided to collect information only on the first three artists listed as authors of the song (&ldquo;artist1,&rdquo; &ldquo;artist2,&rdquo; and &ldquo;artist3&rdquo;).</span></p><p class="c3 c18"><span class="c12 c8"></span></p><h4 class="c39" id="h.8pjcfwj3e5n3"><span class="c19">Wikipedia View Count</span></h4><p class="c33"><span class="c12">In addition to the popularity and number of followers of artists via the Spotify API, we wanted another opinion on the popularity of artists (and, thus, their tracks, and the playlists that feature them.) To do this, we went to the Wikipedia API and obtained the page view count for the calendar years of 2016 and 2017. This was done with the following API:</span></p><p class="c33"><span class="c32">https://wikimedia.org/api/rest_v1/metrics/pageviews/per-article/en.wikipedia/all-access/user/&lt;Artist_Name&gt;/monthly/2016010100/2017123100</span></p><p class="c15"><span class="c32"></span></p><p class="c33"><span class="c12">We were able to get view information for almost all artists in this way, although about 0.3% did not have an associated Wikipedia page and their view count was marked as 0. </span></p><p class="c15"><span class="c12"></span></p><h4 class="c45" id="h.iatd0ay2vf61"><span class="c19">Database</span></h4><p class="c5"><span class="c7">The db.sql file contains a database of all playlists, tracks, artists, and genres collected, along with their relationships.</span></p><ul class="c4 lst-kix_u6n5s1oizguj-0 start"><li class="c5 c16"><span class="c7">playlists</span></li></ul><ul class="c4 lst-kix_u6n5s1oizguj-1 start"><li class="c5 c23"><span class="c7">Contains id, spotifyId, name, description, track count, followers</span></li></ul><ul class="c4 lst-kix_u6n5s1oizguj-0"><li class="c5 c16"><span class="c7">playlistTracks</span></li></ul><ul class="c4 lst-kix_u6n5s1oizguj-1 start"><li class="c5 c23"><span class="c7">This is required because the relationship between playlists and tracks is many to many</span></li><li class="c5 c23"><span class="c7">Contains a playlistId and a trackId, used to associate playlists with tracks</span></li></ul><ul class="c4 lst-kix_u6n5s1oizguj-0"><li class="c5 c16"><span class="c7">tracks</span></li></ul><ul class="c4 lst-kix_u6n5s1oizguj-1 start"><li class="c5 c23"><span class="c7">Contains id, spotifyId, name, spotifyIds for up to the first three listed artists, duration, whether or not the track is &ldquo;explicit,&rdquo; and the popularity (1-100)</span></li></ul><ul class="c4 lst-kix_u6n5s1oizguj-0"><li class="c5 c16"><span class="c7">artists</span></li></ul><ul class="c4 lst-kix_u6n5s1oizguj-1 start"><li class="c5 c23"><span class="c7">Id, spotifyId, name, list of comma-delimited genres, number of followers, popularity (1-100) and the number of views on their Wikipedia page in the last two years</span></li></ul><ul class="c4 lst-kix_u6n5s1oizguj-0"><li class="c5 c16"><span class="c7">Genres</span></li></ul><ul class="c4 lst-kix_u6n5s1oizguj-1 start"><li class="c5 c23"><span class="c7">A unique list of all genres found in the dataset</span></li></ul><h3 class="c22" id="h.q7j3m3d0k3l0"><span class="c24">Exploratory Data Analysis</span></h3><p class="c5"><span class="c7">We created a dataframe with each playlist as a row that contained the playlist follower information, primary genre, number of tracks, and the mean, standard deviation, and max values for various attributes of its tracks and artists. </span></p><p class="c5 c18"><span class="c7"></span></p><p class="c5"><span class="c7">While &lsquo;pop&rsquo; is the most frequently occurring genre for all artists in the dataset, rap playlists have the highest number of average followers.</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 670.67px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 670.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5 c18"><span class="c7"></span></p><p class="c5 c18"><span class="c7"></span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 596.00px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 596.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c7">There is a weak correlation between average playlist followers and average artist followers of 0.1</span></p><p class="c5 c18"><span class="c7"></span></p><p class="c5"><span>One large outlier was found: </span><span class="c0 c8">&#39;Global Top 50&#39; with 11,082,522 followers, with the next most popular playlist having just over 1.5 million followers.</span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5 c18"><span class="c7"></span></p><p class="c5"><span class="c7">Partial heatmap showing the correlation of followers to other properties. </span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 370.67px;"><img alt="" src="images/image2.png" style="width: 624.00px; height: 370.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5 c18"><span class="c7"></span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 614.67px;"><img alt="" src="images/image4.png" style="width: 624.00px; height: 614.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c22" id="h.2dezgr9h0xm5"><span class="c24">Genre Filtering and Co-Occurence Clustering</span></h3><p class="c5 c18"><span class="c7"></span></p><p class="c5"><span class="c7">There are &lt;x&gt; instances where artists are labeled with genres and a total of &lt;y&gt; unique genres in the dataset. This not only presents a computational problem for categorical regression (each unique genre adds a new dimension to the dataset), but also ignores the fact that some genres, such as &ldquo;hip hop&rdquo; and &ldquo;hip pop&rdquo; may not actually represent a distinct categorical difference in the same way that &ldquo;hip hop&rdquo; and &ldquo;classical&rdquo; do. But, by treating each genre as a different categorical value these genre overlaps are lost. </span></p><p class="c5 c18"><span class="c7"></span></p><p class="c5"><span class="c7">In order to decide how to &ldquo;group&rdquo; playlists with similar genres, we first had to decide which &ldquo;genre&rdquo; best represented a playlist. Playlists have tracks, tracks have artists, and artists have sets of genres. </span></p><p class="c5 c18"><span class="c7"></span></p><p class="c5"><span class="c7">A list of all genres in the dataset was created, then unique genres were sorted by their frequency in the dataset. </span></p><p class="c5 c18"><span class="c7"></span></p><p class="c5"><span class="c7">The first of these genres are, in order of popularity:</span></p><p class="c5"><span class="c0 c8">[&#39;pop&#39;, &#39;dance pop&#39;, &#39;pop rap&#39;, &#39;rock&#39;, &#39;modern rock&#39;, &#39;rap&#39;, &#39;pop christmas&#39;, &#39;folk-pop&#39;, &#39;tropical house&#39;...</span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">We decided to sort the genres of each artist by their frequency in the entire dataset, and choose the first two to represent the &ldquo;artist&rsquo;s genres.&rdquo; We felt this provided a compromise by excluding &ldquo;one-off&rdquo; genres that could not easily be used as a basis for comparison and also including secondary more niche genres. </span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">We then collected all of the genres in each playlist by the artists included in the playlist. The four most frequently occurring genres became the set genres that defined the playlist (&ldquo;playlist genres&rdquo;). In addition, we chose the single most frequent genre (or most popular genre, in the case of a tie) to be the &ldquo;main playlist genre&rdquo;</span></p><p class="c5"><span class="c0 c8">A distance calculating function was created, not based on any real spatial metrics, but based on the number of times genres occurred together in the playlist genres (top four genres) for a single playlist. The distance ranged from 0 (genres never occur together) to 1 (genres always occur together). </span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">We also took into consideration the frequency of each genre in the entire dataset. If, every time &ldquo;Icelandic fairy pop&rdquo; (not a real genre) occurs in the dataset &ldquo;pop&rdquo; also occurs, it is reasonable to assume that &ldquo;Icelandic fairy pop&rdquo; is very similar to &ldquo;pop.&rdquo; However, if &ldquo;pop&rdquo; very often occurs without its &ldquo;Icelandic fairy pop&rdquo; it would not be reasonable to assume that they&rsquo;re not closely related, because &ldquo;pop&rdquo; is a far more common genre. Therefore, we weighted each &ldquo;hit&rdquo; or &ldquo;miss&rdquo; (whether they were found together or not) by the relative frequency of the genre in the overall dataset. </span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">In addition, we created an algorithm to calculate the distance between two groups of genres by calculating the mean distance of all combinations of the genres from both groups. </span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">We considered all clustering algorithms available in sci-kit learn, and made our decision based on several factors:</span></p><ul class="c4 lst-kix_v8htqudlxhva-0 start"><li class="c5 c16"><span class="c0 c8">&nbsp;They needed to take a distance matrix as input and could not require real spatial locations</span></li><li class="c5 c16"><span class="c0 c8">We needed reasonable results for ~20 clusters (we were aiming for 20, but eventually came up with 45, due to the number of very rare genres in our dataset)</span></li><li class="c5 c16"><span class="c0 c8">They could not produce &ldquo;unclustered&rdquo; results</span></li></ul><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">We found some success with agglomerative clustering and DBSCAN with a min cluster size of 1 (to avoid unclustered results). However, agglomerative clustering required too many clusters to produce the same silhouette scores that DBSCAN was able to achieve with fewer clusters, so we began our approach with DBSCAN. </span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">We ended up using a combination of the two algorithms, by repeatedly using DBSCAN with successively higher eps values in order to cluster the clusters themselves. After each iteration, we manually examined the clusters for appropriateness and odd results. </span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">We felt that some human intervention was reasonable in this case. While we were surprised by some of the results (&lsquo;modern classical&rsquo; and &lsquo;post rock&rsquo; are more closely related than &lsquo;modern classical&rsquo; and &lsquo;classical&rsquo;) it was important to observe when clusters were becoming overly large and nonsensical with obvious problems like &lsquo;post-screamo&rsquo; and &lsquo;christian relaxative&rsquo; being lumped into the same massive group. </span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">Because we wanted our clusters to be fairly well balanced in order to get sufficient data for each group, towards later iterations of DBSCAN we also set a &ldquo;maximum group size&rdquo; at which point clusters would be excluded from further clustering. </span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">Finally, we implemented a simple algorithm for the final pass which automatically combined clusters if their distance between each other fell below a certain threshold. This was useful for quickly reducing the number of clusters based on the &ldquo;seeds&rdquo; that the iterative DBSCAN had created.</span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5"><span class="c0 c8">We produced a total of 45 clustered genres, some of which contained &ldquo;one offs&rdquo; that did not have any other genres in common.</span></p><p class="c5 c18"><span class="c0 c8"></span></p><p class="c5 c18"><span class="c0 c8"></span></p><h3 class="c22" id="h.2inq3t21r5m9"><span class="c21 c36">Regression Results</span></h3><p class="c5 c18"><span class="c7"></span></p><p class="c1"><span class="c7">Our general approach to modeling for this project was to start with a simple linear regression model, establish a performance baseline, and then create more complex models by adding more features to the model to see if performance could be improved without overfitting or using a diferent modeling algorithm (method).</span></p><p class="c5 c18"><span class="c7"></span></p><p class="c1"><span>For every model we created, we tuned model hyperparameters via cross validation (CV) or a grid search, depending on the regression algorithm used, to optimize model performance. &nbsp;We used R</span><span class="c2">2</span><span>&nbsp;as the metric to measure model performance across all regression models. &nbsp;The table below summarizes the R</span><span class="c2">2</span><span class="c7">&nbsp;results given the hyperparameter optimized regression method and feature set considered. &nbsp;We checked all the features we used in our dataset for missing values and since there were none we didn&rsquo;t have to consider imputation. &nbsp;</span></p><p class="c5 c18"><span class="c7"></span></p><p class="c1"><span class="c7">We first created regularized linear regression models, using both the Lasso and Ridge CV regression methods with the hope that regularization would reduce model complexity. &nbsp;We set the &lsquo;Normalize&rsquo; parameter to &lsquo;True&rsquo; for all the Lasso and Ridge CV models we created since it&rsquo;s standard practice to normalize the regressors when regularization is used for modeling.</span></p><p class="c5 c18"><span class="c7"></span></p><p class="c1"><span>Our initial Lasso and Ridge models used a reduced feature set, consisting of numeric (integer and continuous) custom features we created representing various statistical values (counts, maximums, averages, and standard deviations) derived from the playlist/artist/genre attributes. &nbsp;Both of these Lasso and Ridge models yielded R</span><span class="c2">2 </span><span class="c7">of ~0.25. &nbsp;</span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1"><span>To improve performance, we incorporated a custom feature we created that indicates which music genre group the playlist belongs to as determined by our clustering analysis. &nbsp;Since this was a categorical feature (an unordered integer), we performed one-hot encoding in order to incorporate it into our regression modeling in a meaningful way. &nbsp;We created models using Lasso and Ridge CV and both models yielded R</span><span class="c2">2 </span><span class="c7">of ~0.25, the same as the previous Lasso and Ridge CV models without the one hot encoded music genre group feature.</span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1"><span>Next, we thought we might improve performance by creating new features by adding polynomial terms for each of the integer and continuous features in our reduced feature set. &nbsp;The hope here was that this might improve model performance if there were non-linear relationships in our data. We tried fitting Lasso and Ridge CV models using 2nd, 3rd, and 4th order polynomial terms. &nbsp;Again, the results were the same, model performance still hovered around an R</span><span class="c2">2 </span><span class="c7">of ~0.25. &nbsp;Note: Only the model results from using 4th order polynomial terms are included in the summary table below. &nbsp;</span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1"><span>Clearly, we weren&rsquo;t able to improve performance further using linear regression, even through the inclusion of polynomial terms to fit non-linear data trends in our data. Next, we decided to create a boosted regression tree model. &nbsp;Regression trees can be effective in improving performance especially if non-linear relationships exists in the data. Boosting is an ensemble technique that is very effective in improving model performance without overfitting. &nbsp;We fit an AdaBoost (Adaptive Boosting) regression model using a decision tree regressor (DTR) across a grid search of hyperparameters: DTR tree depth and AdaBoost estimators. &nbsp;Not surprisingly, the hyperparameter tuned AdaBoost model yielded the best performance of all our models, R</span><span class="c2">2 </span><span class="c7">of ~0.36. &nbsp;The best performancing AdaBoost model was achieved when the DTR tree depth hyperparameter was not limited and the optimal Adaboost estimator hyperparameter was set to 400, refer to the plot below.</span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 578.67px;"><img alt="" src="images/image3.png" style="width: 624.00px; height: 578.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><a id="t.07e4028a0395871dc5e70f08188ee8be4a4f02ef"></a><a id="t.0"></a><table class="c48"><tbody><tr class="c41"><td class="c9 c29" colspan="1" rowspan="1"><p class="c10"><span class="c25 c21">Regression Algorithm</span></p></td><td class="c14 c29" colspan="1" rowspan="1"><p class="c10"><span class="c21 c25">Features</span></p></td><td class="c17 c29" colspan="1" rowspan="1"><p class="c10"><span class="c21">R</span><span class="c2 c21 c44">2</span></p></td></tr><tr class="c28"><td class="c9" colspan="1" rowspan="1"><p class="c10"><span class="c7">Lasso</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c1"><span class="c0">Reduced feature set - without one-hot encoded &#39;playlist_genre_group&#39; predictor</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c11"><span class="c0">0.2583</span></p></td></tr><tr class="c35"><td class="c9" colspan="1" rowspan="1"><p class="c10"><span class="c7">Ridge</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c1"><span class="c0">Reduced feature set - not one-hot encoding Features</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c11"><span class="c0">0.2562</span></p></td></tr><tr class="c28"><td class="c9" colspan="1" rowspan="1"><p class="c10"><span class="c7">Lasso</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c1"><span class="c0">Reduced feature set - without one-hot encoded &#39;playlist_genre_group&#39; predictor</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c11"><span class="c0">0.2583</span></p></td></tr><tr class="c6"><td class="c9" colspan="1" rowspan="1"><p class="c10"><span class="c7">Ridge</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c27"><span>With </span><span class="c0">one-hot encoded &#39;playlist_genre_group&#39; predictor</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c11"><span class="c0">0.2582</span></p></td></tr><tr class="c47"><td class="c9" colspan="1" rowspan="1"><p class="c10"><span class="c7">Lasso</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c27"><span>4th Order Polynomial - </span><span class="c0">Reduced feature set - without one-hot encoded &#39;playlist_genre_group&#39; predictor</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c11"><span class="c0">0.2583</span></p></td></tr><tr class="c43"><td class="c9" colspan="1" rowspan="1"><p class="c10"><span class="c7">Ridge</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c27"><span>4th Order Polynomial - </span><span class="c0">Reduced feature set - not one-hot encoding Features</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c11"><span class="c0">0.2286</span></p></td></tr><tr class="c6"><td class="c9" colspan="1" rowspan="1"><p class="c10"><span class="c7">AdaBoost with</span></p><p class="c10"><span class="c7">Decision Tree Regressor</span></p></td><td class="c14" colspan="1" rowspan="1"><p class="c27"><span>With </span><span class="c0">one-hot encoded &#39;playlist_genre_group&#39; predictor</span></p></td><td class="c17 c30" colspan="1" rowspan="1"><p class="c11"><span class="c21 c37">0.3655</span></p></td></tr></tbody></table><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c1 c18"><span class="c7"></span></p><p class="c5"><span class="c7">Takeaways - </span></p><p class="c5 c18"><span class="c7"></span></p></body></html>