<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');ul.lst-kix_mmj7tp73mzck-7{list-style-type:none}ul.lst-kix_mmj7tp73mzck-8{list-style-type:none}.lst-kix_u6n5s1oizguj-7>li:before{content:"\0025cb  "}.lst-kix_u6n5s1oizguj-8>li:before{content:"\0025a0  "}.lst-kix_u6n5s1oizguj-3>li:before{content:"\0025cf  "}.lst-kix_u6n5s1oizguj-4>li:before{content:"\0025cb  "}.lst-kix_u6n5s1oizguj-2>li:before{content:"\0025a0  "}.lst-kix_u6n5s1oizguj-6>li:before{content:"\0025cf  "}.lst-kix_u6n5s1oizguj-5>li:before{content:"\0025a0  "}.lst-kix_mmj7tp73mzck-0>li:before{content:"\0025cf  "}.lst-kix_mmj7tp73mzck-6>li:before{content:"\0025cf  "}.lst-kix_mmj7tp73mzck-5>li:before{content:"\0025a0  "}ul.lst-kix_v8htqudlxhva-8{list-style-type:none}ul.lst-kix_v8htqudlxhva-7{list-style-type:none}ul.lst-kix_v8htqudlxhva-6{list-style-type:none}ul.lst-kix_v8htqudlxhva-5{list-style-type:none}.lst-kix_mmj7tp73mzck-4>li:before{content:"\0025cb  "}ul.lst-kix_v8htqudlxhva-4{list-style-type:none}ul.lst-kix_v8htqudlxhva-3{list-style-type:none}ul.lst-kix_v8htqudlxhva-2{list-style-type:none}ul.lst-kix_v8htqudlxhva-1{list-style-type:none}.lst-kix_mmj7tp73mzck-1>li:before{content:"\0025cb  "}.lst-kix_mmj7tp73mzck-3>li:before{content:"\0025cf  "}ul.lst-kix_v8htqudlxhva-0{list-style-type:none}.lst-kix_mmj7tp73mzck-2>li:before{content:"\0025a0  "}ul.lst-kix_u6n5s1oizguj-7{list-style-type:none}ul.lst-kix_u6n5s1oizguj-8{list-style-type:none}.lst-kix_v8htqudlxhva-1>li:before{content:"\0025cb  "}.lst-kix_v8htqudlxhva-3>li:before{content:"\0025cf  "}.lst-kix_v8htqudlxhva-0>li:before{content:"\0025cf  "}.lst-kix_v8htqudlxhva-4>li:before{content:"\0025cb  "}.lst-kix_u6n5s1oizguj-0>li:before{content:"\0025cf  "}ul.lst-kix_u6n5s1oizguj-0{list-style-type:none}ul.lst-kix_u6n5s1oizguj-1{list-style-type:none}ul.lst-kix_u6n5s1oizguj-2{list-style-type:none}ul.lst-kix_u6n5s1oizguj-3{list-style-type:none}.lst-kix_u6n5s1oizguj-1>li:before{content:"\0025cb  "}ul.lst-kix_u6n5s1oizguj-4{list-style-type:none}ul.lst-kix_u6n5s1oizguj-5{list-style-type:none}ul.lst-kix_u6n5s1oizguj-6{list-style-type:none}.lst-kix_v8htqudlxhva-2>li:before{content:"\0025a0  "}.lst-kix_mmj7tp73mzck-7>li:before{content:"\0025cb  "}.lst-kix_mmj7tp73mzck-8>li:before{content:"\0025a0  "}.lst-kix_v8htqudlxhva-8>li:before{content:"\0025a0  "}ul.lst-kix_mmj7tp73mzck-5{list-style-type:none}ul.lst-kix_mmj7tp73mzck-6{list-style-type:none}ul.lst-kix_mmj7tp73mzck-3{list-style-type:none}ul.lst-kix_mmj7tp73mzck-4{list-style-type:none}.lst-kix_v8htqudlxhva-5>li:before{content:"\0025a0  "}.lst-kix_v8htqudlxhva-7>li:before{content:"\0025cb  "}ul.lst-kix_mmj7tp73mzck-1{list-style-type:none}ul.lst-kix_mmj7tp73mzck-2{list-style-type:none}ul.lst-kix_mmj7tp73mzck-0{list-style-type:none}.lst-kix_v8htqudlxhva-6>li:before{content:"\0025cf  "}ol{margin:0;padding:0}table td,table th{padding:0}.c15{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:125.2pt;border-top-color:#000000;border-bottom-style:solid}.c6{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:109.4pt;border-top-color:#000000;border-bottom-style:solid}.c11{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:116.7pt;border-top-color:#000000;border-bottom-style:solid}.c10{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.38;orphans:2;widows:2;text-align:left}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:"Arial";font-style:normal}.c23{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c20{color:#2d3b45;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:700;text-decoration:none;vertical-align:super;font-size:11pt;font-family:"Arial";font-style:normal}.c16{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c26{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c25{color:#ff0000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c18{padding-top:0pt;padding-bottom:0pt;line-height:1.38;orphans:2;widows:2;text-align:center}.c40{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Consolas";font-style:normal}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.2;orphans:2;widows:2;text-align:left}.c21{padding-top:0pt;padding-bottom:0pt;line-height:1.38;orphans:2;widows:2;text-align:left}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c36{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c50{color:#666666;text-decoration:none;vertical-align:baseline;font-size:15pt;font-family:"Arial";font-style:normal}.c30{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.2;orphans:2;widows:2;text-align:center}.c52{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c19{padding-top:-11pt;padding-bottom:5pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c29{color:#434343;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c38{padding-top:14pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;text-align:left}.c41{padding-top:14pt;padding-bottom:4pt;line-height:1.38;page-break-after:avoid;text-align:left}.c44{padding-top:14pt;padding-bottom:4pt;line-height:1.0;page-break-after:avoid;text-align:left}.c35{padding-top:-11pt;padding-bottom:5pt;line-height:1.0;page-break-after:avoid;text-align:left}.c12{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;text-align:left}.c47{color:#000000;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c48{padding-top:0pt;padding-bottom:16pt;line-height:1.15;page-break-after:avoid;text-align:center}.c43{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:center}.c51{border-spacing:0;border-collapse:collapse;margin-right:auto}.c8{color:inherit;text-decoration:inherit}.c31{color:#1155cc;text-decoration:underline}.c32{margin-left:72pt;padding-left:0pt}.c34{margin-left:36pt;padding-left:0pt}.c14{padding:0;margin:0}.c46{max-width:468pt;padding:72pt 72pt 72pt 72pt}.c24{background-color:#d9d9d9}.c42{height:60pt}.c33{height:24pt}.c7{background-color:#ffffff}.c3{vertical-align:super}.c22{font-size:10.5pt}.c2{height:11pt}.c27{height:48pt}.c37{height:14pt}.c49{height:53pt}.c28{font-weight:700}.c45{font-weight:400}.c5{height:39pt}.c39{height:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c7 c46"><h1 class="c43" id="h.oj6j1lq99qwh"><span class="c23">What Makes it a Hit?</span></h1><p class="c48 subtitle" id="h.gslo6isbwyqm"><span class="c45 c50">Predicting the Success of Spotify Playlists</span></p><p class="c52"><span class="c36 c28">Ryan Mitchell and Scott Shaffer</span></p><h3 class="c12 c37" id="h.8vpt5s9crrmx"><span class="c29 c45"></span></h3><h3 class="c12" id="h.a84979uvkfps"><span class="c29 c28">Introduction</span></h3><p class="c0"><span class="c4">What causes someone to follow a Spotify playlist? Is it the love of the artist&rsquo;s oeuvre? A one hit wonder that catches their eye nestled among other related, but less recognizable works? Do users follow playlists simply because they like the genre, or do the most popular playlists tend to have more eclectic constituent parts?</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">For our final project, we studied the follower count of Spotify playlists as they relates to the genres and popularities of the tracks and artists that compose them.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span>We created several models, incorporating playlist and artist genres, followers of artists, popularities of artists and tracks, and Wikipedia page views, to determine what draws users to playlists and entices them to click the &ldquo;Follow&rdquo; button.</span></p><h3 class="c12" id="h.q00n22905jz2"><span class="c29 c28">Data Collection and Storage</span></h3><h4 class="c38" id="h.9544nw9m8jf2"><span class="c26">Spotify API Endpoints</span></h4><p class="c0"><span class="c4">We collected 1,605 playlists published by the &ldquo;spotify&rdquo; user. These playlists are some of the most popular on the website and all are public and easily found by all Spotify users. </span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">Each track collected had an artist, or number of artists that created it. We also obtained artist details such as popularity and number of followers.</span></p><p class="c0"><span class="c4">In most cases, only one artist was listed, but some tracks were collaborative works with many artists. In order to keep our MySQL data model as simple as possible, we decided to collect information only on the first three artists listed as authors of the song (&ldquo;artist1,&rdquo; &ldquo;artist2,&rdquo; and &ldquo;artist3&rdquo;).</span></p><p class="c2 c19"><span class="c16 c7"></span></p><h4 class="c35" id="h.8pjcfwj3e5n3"><span class="c26">Wikipedia View Count</span></h4><p class="c0"><span class="c4">In addition to the popularity and number of followers of artists via the Spotify API, we wanted another opinion on the popularity of artists (and, thus, their tracks, and the playlists that feature them.) To do this, we went to the Wikipedia API and obtained the page view count for the calendar years of 2016 and 2017. </span></p><p class="c2 c30"><span class="c4"></span></p><p class="c0"><span class="c4">This was done with the page view API:</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c31"><a class="c8" href="https://www.google.com/url?q=https://wikimedia.org/api/rest_v1/metrics/pageviews/per-article/en.wikipedia/all-access/user/bob_dylan/monthly/2016010100/2017123100&amp;sa=D&amp;ust=1512712267323000&amp;usg=AFQjCNGl-KUGSabf0QoX6xi84II0Uq8mNA">https://wikimedia.org/api/rest_v1/metrics/pageviews/per-article/en.wikipedia/all-access/user/bob_dylan/monthly/2016010100/2017123100</a></span><span class="c4">&nbsp;</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">We were able to get view information for almost all artists in this way, although about 0.3% did not have an associated Wikipedia page and their view count was marked as 0. </span></p><p class="c30 c2"><span class="c16"></span></p><h4 class="c44" id="h.iatd0ay2vf61"><span class="c26">Database</span></h4><p class="c0"><span>The db.sql file (</span><span class="c31"><a class="c8" href="https://www.google.com/url?q=https://github.com/REMitchell/CSCIE109A/blob/master/final/db.sql&amp;sa=D&amp;ust=1512712267324000&amp;usg=AFQjCNHpku2tNZkufM5FNUaoBAKq6mgL1w">https://github.com/REMitchell/CSCIE109A/blob/master/final/db.sql</a></span><span class="c4">) contains a database of all playlists, tracks, artists, and genres collected, along with their relationships.</span></p><p class="c0 c2"><span class="c25"></span></p><p class="c0"><span class="c25">Note: This project (including the iPython notebook file) cannot be run without a running MySQL database to supply the source data.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">The database tables, with brief description of columns, is as follows:</span></p><ul class="c14 lst-kix_u6n5s1oizguj-0 start"><li class="c0 c34"><span class="c28 c36">playlists</span></li></ul><ul class="c14 lst-kix_u6n5s1oizguj-1 start"><li class="c0 c32"><span class="c4">Contains id, spotifyId, name, description, track count, followers</span></li></ul><ul class="c14 lst-kix_u6n5s1oizguj-0"><li class="c0 c34"><span class="c36 c28">playlistTracks</span></li></ul><ul class="c14 lst-kix_u6n5s1oizguj-1 start"><li class="c0 c32"><span class="c4">This is required because the relationship between playlists and tracks is many to many</span></li><li class="c0 c32"><span class="c4">Contains a playlistId and a trackId, used to associate playlists with tracks</span></li></ul><ul class="c14 lst-kix_u6n5s1oizguj-0"><li class="c0 c34"><span class="c36 c28">tracks</span></li></ul><ul class="c14 lst-kix_u6n5s1oizguj-1 start"><li class="c0 c32"><span class="c4">Contains id, spotifyId, name, spotifyIds for up to the first three listed artists, duration, whether or not the track is &ldquo;explicit,&rdquo; and the popularity (1-100)</span></li></ul><ul class="c14 lst-kix_u6n5s1oizguj-0"><li class="c0 c34"><span class="c36 c28">artists</span></li></ul><ul class="c14 lst-kix_u6n5s1oizguj-1 start"><li class="c0 c32"><span>i</span><span class="c4">d, spotifyId, name, list of comma-delimited genres, number of followers, popularity (1-100) and the number of views on their Wikipedia page in the last two years</span></li></ul><ul class="c14 lst-kix_u6n5s1oizguj-0"><li class="c0 c34"><span class="c36 c28">genres</span></li></ul><ul class="c14 lst-kix_u6n5s1oizguj-1 start"><li class="c0 c32"><span class="c4">A unique list of all genres found in the dataset</span></li></ul><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span>To configure your database settings, modify the database.py file (</span><span class="c31"><a class="c8" href="https://www.google.com/url?q=https://github.com/REMitchell/CSCIE109A/blob/master/final/database.py&amp;sa=D&amp;ust=1512712267327000&amp;usg=AFQjCNFI70BxaJkawOeicGHHpWJY9RmgDw">https://github.com/REMitchell/CSCIE109A/blob/master/final/database.py</a></span><span class="c4">) </span></p><h3 class="c12" id="h.q7j3m3d0k3l0"><span class="c29 c28">Exploratory Data Analysis</span></h3><p class="c0"><span class="c4">We created a dataframe with each playlist as a row that contained the playlist follower information, primary genre, number of tracks, and the mean, standard deviation, and max values for various attributes of its tracks and artists. Using this dataframe, we examined the properties of the data and created a number of visualizations. </span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span>Only a subset of the data visualizations are shown here. For more visualizations, see the iPython notebook (</span><span class="c31"><a class="c8" href="https://www.google.com/url?q=https://github.com/REMitchell/CSCIE109A/blob/master/final/Final.ipynb&amp;sa=D&amp;ust=1512712267328000&amp;usg=AFQjCNH3nakpvbpSdmI10RUQtrO1H5nneA">https://github.com/REMitchell/CSCIE109A/blob/master/final/Final.ipynb</a></span><span class="c4">) &nbsp;</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">While &lsquo;pop&rsquo; is the most frequently occurring genre for all artists in the dataset, rap playlists have the highest number of average followers.</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 670.67px;"><img alt="" src="images/image6.png" style="width: 624.00px; height: 670.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c4">Of all of the playlists, 21 had &ldquo;rap&rdquo; as the most frequently occurring genre, while the genre with the second most average followers, &ldquo;focus,&rdquo; was most frequent in 13 playlists. We did not notice any strong trends among the followed genres as far as similarity of the types. Rap, focus, tropical house, indie folk, and EDM are a fairly diverse set.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">We also looked at relationships between the followers of playlists and the average followers of the artists who made the music for that playlist.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 596.00px;"><img alt="" src="images/image3.png" style="width: 624.00px; height: 596.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c4">There is a weak correlation between average playlist followers and average artist followers of 0.1</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">During this analysis, one large outlier was found: &#39;Global Top 50&#39; with 11,082,522 followers, with the next most popular playlist having just over 1.5 million followers. This led to considering the effects of removing outliers in the regression portion of the project.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">Apart from playlists, what is a predictor of an artist being followed or not? We looked at the relationship between an artist&rsquo;s followers and their Wikipedia page view count. </span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 614.67px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 614.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c4">This, surprisingly, had the same weak linear relationship as &ldquo;playlist followers to average artist followers&rdquo; of 0.1</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">Partial heatmap showing the correlation of followers to other properties. </span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 370.67px;"><img alt="" src="images/image4.png" style="width: 624.00px; height: 370.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0 c2"><span class="c4"></span></p><h3 class="c12" id="h.2dezgr9h0xm5"><span class="c29 c28">Genre Filtering and Co-Occurence Clustering</span></h3><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">There are &lt;x&gt; instances where artists are labeled with genres and a total of &lt;y&gt; unique genres in the dataset. This not only presents a computational problem for categorical regression (each unique genre adds a new dimension to the dataset), but also ignores the fact that some genres, such as &ldquo;hip hop&rdquo; and &ldquo;hip pop&rdquo; may not actually represent a distinct categorical difference in the same way that &ldquo;hip hop&rdquo; and &ldquo;classical&rdquo; do. But, by treating each genre as a different categorical value these genre overlaps are lost. </span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">In order to decide how to &ldquo;group&rdquo; playlists with similar genres, we first had to decide which &ldquo;genre&rdquo; best represented a playlist. Playlists have tracks, tracks have artists, and artists have sets of genres. </span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">A list of all genres in the dataset was created, then unique genres were sorted by their frequency in the dataset. </span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">The first of these genres are, in order of popularity:</span></p><p class="c0 c2"><span class="c40 c7 c22"></span></p><p class="c0"><span class="c7 c22 c40">[&#39;pop&#39;, &#39;dance pop&#39;, &#39;pop rap&#39;, &#39;rock&#39;, &#39;modern rock&#39;, &#39;rap&#39;, &#39;pop christmas&#39;, &#39;folk-pop&#39;, &#39;tropical house&#39;...</span></p><p class="c0 c2"><span class="c17 c7"></span></p><p class="c0"><span class="c4 c7">We decided to sort the genres of each artist by their frequency in the entire dataset, and choose the first two to represent the &ldquo;artist&rsquo;s genres.&rdquo; We felt this provided a compromise by excluding &ldquo;one-off&rdquo; genres that could not easily be used as a basis for comparison and also including secondary more niche genres. </span></p><p class="c0 c2"><span class="c4 c7"></span></p><p class="c0"><span class="c4 c7">We then collected all of the genres in each playlist by the artists included in the playlist. The four most frequently occurring genres became the set genres that defined the playlist (&ldquo;playlist genres&rdquo;). In addition, we chose the single most frequent genre (or most popular genre, in the case of a tie) to be the &ldquo;main playlist genre&rdquo;</span></p><p class="c0"><span class="c4 c7">A distance calculating function was created, not based on any real spatial metrics, but based on the number of times genres occurred together in the playlist genres (top four genres) for a single playlist. The distance ranged from 0 (genres never occur together) to 1 (genres always occur together). </span></p><p class="c0 c2"><span class="c4 c7"></span></p><p class="c0"><span class="c4 c7">We also took into consideration the frequency of each genre in the entire dataset. If, every time &ldquo;Icelandic fairy pop&rdquo; (not a real genre) occurs in the dataset &ldquo;pop&rdquo; also occurs, it is reasonable to assume that &ldquo;Icelandic fairy pop&rdquo; is very similar to &ldquo;pop.&rdquo; However, if &ldquo;pop&rdquo; very often occurs without its &ldquo;Icelandic fairy pop&rdquo; it would not be reasonable to assume that they&rsquo;re not closely related, because &ldquo;pop&rdquo; is a far more common genre. Therefore, we weighted each &ldquo;hit&rdquo; or &ldquo;miss&rdquo; (whether they were found together or not) by the relative frequency of the genre in the overall dataset. </span></p><p class="c0 c2"><span class="c17 c7"></span></p><p class="c0"><span class="c4 c7">In addition, we created an algorithm to calculate the distance between two groups of genres by calculating the mean distance of all combinations of the genres from both groups. </span></p><p class="c0 c2"><span class="c4 c7"></span></p><p class="c0"><span class="c4 c7">We considered all clustering algorithms available in sci-kit learn, and made our decision based on several factors:</span></p><ul class="c14 lst-kix_v8htqudlxhva-0 start"><li class="c0 c34"><span class="c4 c7">They needed to take a distance matrix as input and could not require real spatial locations</span></li><li class="c0 c34"><span class="c4 c7">We needed reasonable results for ~20 clusters (we were aiming for 20, but eventually came up with 45, due to the number of very rare genres in our dataset)</span></li><li class="c0 c34"><span class="c4 c7">They could not produce &ldquo;unclustered&rdquo; results</span></li></ul><p class="c0 c2"><span class="c17 c7"></span></p><p class="c0"><span class="c4 c7">We found some success with agglomerative clustering and DBSCAN with a min cluster size of 1 (to avoid unclustered results). However, agglomerative clustering required too many clusters to produce the same silhouette scores that DBSCAN was able to achieve with fewer clusters, so we began our approach with DBSCAN. </span></p><p class="c0 c2"><span class="c4 c7"></span></p><p class="c0"><span class="c4 c7">We ended up using a combination of the two algorithms, by repeatedly using DBSCAN with successively higher eps values in order to cluster the clusters themselves. After each iteration, we manually examined the clusters for appropriateness and odd results. </span></p><p class="c0 c2"><span class="c4 c7"></span></p><p class="c0"><span class="c4 c7">We felt that some human intervention was reasonable in this case. While we were surprised by some of the results (&lsquo;modern classical&rsquo; and &lsquo;post rock&rsquo; are more closely related than &lsquo;modern classical&rsquo; and &lsquo;classical&rsquo;) it was important to observe when clusters were becoming overly large and nonsensical with obvious problems like &lsquo;post-screamo&rsquo; and &lsquo;christian relaxative&rsquo; being lumped into the same massive group. </span></p><p class="c0 c2"><span class="c17 c7"></span></p><p class="c0"><span class="c7">Because we wanted our clusters to be fairly well balanced in order to get sufficient data for each group</span><span class="c4">, towards later iterations of DBSCAN we also set a &ldquo;maximum group size&rdquo; at which point clusters would be excluded from further clustering. </span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">Finally, we implemented a simple algorithm for the final pass which automatically combined clusters if their distance between each other fell below a certain threshold. This was useful for quickly reducing the number of clusters based on the &ldquo;seeds&rdquo; that the iterative DBSCAN had created.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">We produced a total of 45 clustered genres, some of which contained &ldquo;one offs&rdquo; that did not have any other genres in common.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">In addition to the &ldquo;genre group&rdquo; that we were now able to assign each playlist, we also created a &ldquo;genre_similarity&rdquo; score, which indicated if the artists within the playlist had very similar genres (most artists had a genre equal to the most popular genre) or very different genres within them. This was a value of 0 to 1, and was used to create the regression models.</span></p><h3 class="c12" id="h.2inq3t21r5m9"><span class="c28 c29">Regression Models for Follower Prediction</span></h3><p class="c0"><span class="c4">We tried a variety of regression models and settled on three main ones to test, with variations such as one hot encoding with genre groups, boosting, and polynomial regression: Lasso, Ridge, and Decision Tree Regressors. &nbsp;We split our data into a test and train set of 75% and 25% of the data, respectively.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span>For every model we created, we tuned model hyperparameters via cross validation or a grid search, depending on the regression algorithm used, to optimize model performance. &nbsp;We used R</span><span class="c3">2</span><span>&nbsp;as the metric to measure model performance across all regression models. &nbsp;The table below summarizes the R</span><span class="c3">2</span><span class="c4">&nbsp;results given the hyperparameter optimized regression method and feature set considered. &nbsp;We checked all the features we used in our dataset for missing values and since there were none we didn&rsquo;t have to consider imputation. &nbsp;</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">We first created regularized linear regression models, using both the Lasso and Ridge CV regression methods with the hope that regularization would reduce model complexity. &nbsp;We set the &lsquo;Normalize&rsquo; parameter to &lsquo;True&rsquo; for all the Lasso and Ridge CV models we created since it&rsquo;s standard practice to normalize the regressors when regularization is used for modeling.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span>Our initial Lasso and Ridge models used a reduced feature set, consisting of numeric custom features we created representing various statistical values (counts, maximums, averages, and standard deviations) derived from the playlist/artist/genre attributes. &nbsp;Both of these Lasso and Ridge models yielded a best R</span><span class="c3">2 </span><span>of ~0.38, see plot below.</span></p><p class="c21 c2"><span class="c4"></span></p><p class="c21"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 507.00px; height: 515.00px;"><img alt="" src="images/image5.png" style="width: 507.00px; height: 515.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c0"><span class="c4">To improve performance, we incorporated a custom feature we created that indicates which music genre group the playlist belongs to as determined by our clustering analysis. &nbsp;Since this was a categorical feature (an unordered integer), we performed one-hot encoding in order to incorporate it into our regression modeling in a meaningful way. &nbsp;We created models using Lasso and Ridge CV and performance for both models dropped significantly to ~0.26.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">Next, we thought we might improve performance by creating new features by adding polynomial terms for each of the integer and continuous features in our reduced feature set. &nbsp;The hope here was that this might improve model performance if there were non-linear relationships in our data. We tried fitting Lasso and Ridge CV models using 2nd, 3rd, and 4th order polynomial terms. &nbsp;Here, Lasso model performance matched the original Lasso model at ~0.38 and Ridge was lower at ~0.34, so adding higher order terms didn&rsquo;t improve model performance. Note: Only the model results from using 4th order polynomial terms are included in the summary table below. &nbsp;</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">Clearly, we weren&rsquo;t able to improve performance further using linear regression, although the inclusion of polynomial terms to fit non-linear data trends in our data. </span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span>Next, we decided to create a boosted regression tree model. &nbsp;Regression trees can be effective in improving performance especially if non-linear relationships exists in the data. Boosting is an ensemble technique that is very effective in improving model performance without overfitting. &nbsp;We fit an AdaBoost regression model using a decision tree regressor (DTR) across a grid search of hyperparameters: DTR tree depth and AdaBoost estimators. &nbsp;The hyperparameter tuned AdaBoost model performance did not surpass the original Lasso and Ridge model performances, coming in at ~0.34 and ~0.36, with and without the one-hot encoded predictor. &nbsp;The best performancing AdaBoost model was achieved when the DTR tree depth hyperparameter was not limited and the optimal Adaboost estimator hyperparameter was set to 400, refer to the plot below.</span></p><p class="c21"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 619.00px; height: 606.00px;"><img alt="" src="images/image2.png" style="width: 619.00px; height: 606.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c2 c21"><span class="c4"></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c21 c2"><span class="c4"></span></p><h4 class="c41" id="h.x6yiie3897il"><span>Summary of R</span><span class="c3">2</span><span class="c26">&nbsp;Scores for All Regression Methods </span></h4><a id="t.92d4faba7d8bbe0413232f59a08e0f9dcb2778ab"></a><a id="t.0"></a><table class="c51"><tbody><tr class="c33"><td class="c6 c24" colspan="1" rowspan="1"><p class="c13"><span class="c36 c28">Regression Algorithm</span></p></td><td class="c15 c24" colspan="1" rowspan="1"><p class="c13"><span class="c36 c28">Features </span></p></td><td class="c11 c24" colspan="1" rowspan="1"><p class="c13"><span class="c28">R</span><span class="c1">2</span></p></td><td class="c11 c24" colspan="1" rowspan="1"><p class="c13"><span class="c28">R</span><span class="c3 c28">2 </span><span class="c28">at follower threshold of 500,000</span></p></td></tr><tr class="c49"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c4">Lasso</span></p></td><td class="c15" colspan="1" rowspan="2"><p class="c21"><span class="c4">No &#39;playlist_genre_group&#39; predictor</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c17 c7">0.379</span></p><p class="c21 c2"><span class="c17"></span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c22">0.379</span></p></td></tr><tr class="c5"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c4">Ridge</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c17 c7">0.378</span></p><p class="c18 c2"><span class="c17"></span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c17 c7">0.379</span></p><p class="c18 c2"><span class="c17"></span></p></td></tr><tr class="c49"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c4">Lasso</span></p></td><td class="c15" colspan="1" rowspan="2"><p class="c9"><span class="c4">With one-hot encoded &#39;playlist_genre_group&#39; predictor</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c22">0.258</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c22">0.362</span></p></td></tr><tr class="c39"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c4">Ridge</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c22">0.259</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c22">0.354</span></p></td></tr><tr class="c42"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c4">Lasso</span></p></td><td class="c15" colspan="1" rowspan="2"><p class="c9"><span class="c4">4th Order Polynomial - No &#39;playlist_genre_group&#39; predictor</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c22">0.381</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c22">0.404</span></p></td></tr><tr class="c27"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c4">Ridge</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c17 c7">0.34</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c22">0.402</span></p></td></tr><tr class="c39"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c4">AdaBoost with</span></p><p class="c13"><span class="c4">Decision Tree Regressor</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c9"><span class="c4">No one-hot encoded &#39;playlist_genre_group&#39; predictor</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c17">0.366</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c17 c7">0.328</span></p><p class="c18 c2"><span class="c17"></span></p></td></tr><tr class="c39"><td class="c6" colspan="1" rowspan="1"><p class="c13"><span class="c4">AdaBoost with Decision Tree Regressor</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c9"><span class="c4">With one-hot encoded &lsquo;playlist_genre_group&rsquo; predictor</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c22">0.337</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c18"><span class="c7 c17">0.328</span></p></td></tr></tbody></table><p class="c21 c2"><span class="c4"></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c0"><span class="c4">Although earlier data explorations showed great differences between follower counts for various genre groups, adding the genre group predictor proved to be a detriment to the models&rsquo; performance.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c9"><span class="c4">One interesting finding, however, was that the performance of Ridge and Lasso improved when the outlier threshold for the number of followers was put in place, reducing the number of extremely popular playlists in the dataset. We theorized that there may be some unknown randomness to the phenomenon of a playlist &ldquo;going viral&rdquo; that was impossible to predict, but that the average run-of-the-mill playlist may have a more predictable number of followers.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">We performed Ridge and Lasso regression, taking the best score at each iteration, while varying the &ldquo;cutoff&rdquo; threshold for the number of followers for each playlist.</span></p><p class="c9 c2"><span class="c4"></span></p><p class="c9"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 531.00px; height: 498.00px;"><img alt="" src="images/image7.png" style="width: 531.00px; height: 498.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c9"><span class="c4">Unfortunately, our hypothesis about the unpredictable nature of viral playlists was shown to be false, as the R2 score varied randomly, and even showed a decreasing trend. The 500,000 cutoff that was originally chosen was simply a spike in the data.</span></p><p class="c9 c2"><span class="c4"></span></p><p class="c9 c2"><span class="c4"></span></p><p class="c2 c9"><span class="c4"></span></p><p class="c9 c2"><span class="c4"></span></p><p class="c9 c2"><span class="c4"></span></p><p class="c9 c2"><span class="c4"></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c21 c2"><span class="c4"></span></p><p class="c21"><span>Model Performance (R</span><span class="c3">2</span><span class="c4">) when playlists with response, i.e., playlist followers, outliers (&gt; 500,000) are removed, reduced feature set is used.</span></p><p class="c21 c2"><span class="c22 c28 c47"></span></p><p class="c21"><span class="c47 c22 c28">How could we achieve better performance?</span></p><p class="c0 c2"><span class="c17"></span></p><p class="c21"><span class="c4">In order to further improve the performance of our models, we could consider doing the following:</span></p><p class="c0 c2"><span class="c4"></span></p><ul class="c14 lst-kix_mmj7tp73mzck-0 start"><li class="c10"><span class="c28">More Features</span><span class="c4">&nbsp;- We could incorporate more features into our model to help predict playlist popularity better than the features we currently have. &nbsp;For example, it might be worthwhile to obtain and incorporate audio track features into our modeling.</span></li><li class="c10"><span class="c28">More Data</span><span class="c4">&nbsp;- We used 1,674 playlists, obtaining more playlists might help improve model performance.</span></li><li class="c10"><span class="c28">Revisit our clustering analysis</span><span class="c4">&nbsp;- Our clustering analysis could be revisited to help augment the predictive power of our models.</span></li><li class="c10"><span class="c28">Less emphasis on genres</span><span class="c4">&nbsp;- These appeared to hurt model performance</span></li></ul><p class="c0 c2"><span class="c4"></span></p><p class="c0 c2"><span class="c4"></span></p><h3 class="c12" id="h.tkkrbvf5130n"><span class="c29 c28">Conclusion</span></h3><p class="c0"><span class="c4">Our initial goal was to create a model that predicted playlist followers, with an emphasis on using the musical genres of the artists, tracks, and playlists. We performed extensive analysis, filtering, and clustering with genres in order to classify playlists into &ldquo;genre groups.&rdquo; Unfortunately, this turned out to have no, and even a negative, impact on the performance of our models. </span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span class="c4">The models did not perform extremely well with any of the variations we tried. With the data we had access to, we believe that an upper limit of predictive modeling would provide an R2 score of approximately 40%.</span></p><p class="c0 c2"><span class="c4"></span></p><p class="c0"><span>While there are some underlying patterns and useful predictors, we believe that it is simply not possible to create a &ldquo;good&rdquo; model that predicts which playlists will be followed and which ones won&rsquo;t looking at the popularities of the artists and tracks that compose them alone.</span></p></body></html>